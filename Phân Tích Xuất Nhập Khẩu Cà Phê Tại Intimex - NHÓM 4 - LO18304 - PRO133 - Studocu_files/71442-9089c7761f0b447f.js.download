(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[71442],{28819:e=>{e.exports={"search-bar-with-results":"SearchBarWithResults_search-bar-with-results___GkJq",searchBarWithResults:"SearchBarWithResults_search-bar-with-results___GkJq",fullscreen:"SearchBarWithResults_fullscreen__8ddBu"}},38848:e=>{e.exports={icon:"SearchBarDropdown_icon__roQqP","search-icon":"SearchBarDropdown_search-icon__ZAHbb",searchIcon:"SearchBarDropdown_search-icon__ZAHbb"}},71442:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>H});var r=s(6029),a=s(12464),n=s(55729),l=s(16148),i=s(99486),u=s(53547),o=s(32988),c=s.n(o),h=s(24625),p=s(56760),d=s(82131),m=s(47768),_=s(44976),C=s(63900),g=s(22274),b=s(28819),E=s.n(b);let S=(0,d.u)(function(e,t){let{id:s,initialValue:a,isFullscreen:o=!1,isSearching:d,isWithNoResultsMessage:b=!0,items:S,itemsLabel:v,label:w,onBlur:f,onChange:x,onClear:y,onFocus:I,onIsOpenChange:R,onRemove:B,onSelect:k,onSubmit:T,textNoResults:j,...D}=e,N=(0,n.useRef)(null),W=(0,n.useRef)(!1),[O,L]=(0,n.useState)(!1),[A,$]=(0,n.useState)(a||""),H=(0,n.useCallback)(e=>{T&&(T(e),N.current?.blur())},[T]),F=o&&O,M=(0,n.useCallback)((e,t)=>{let{changes:s,type:r}=t;switch(r){case h.Bp.stateChangeTypes.ItemClick:return N.current?.blur(),s;case h.Bp.stateChangeTypes.InputKeyDownEnter:return s.selectedItem?.noSubmit||H(A),s;case h.Bp.stateChangeTypes.InputClick:case h.Bp.stateChangeTypes.InputBlur:case h.Bp.stateChangeTypes.ToggleButtonClick:case h.Bp.stateChangeTypes.FunctionToggleMenu:case h.Bp.stateChangeTypes.FunctionOpenMenu:if(F)return{...s,isOpen:!0};return{...s,isOpen:o?!!(s.isOpen&&!d):!!(s.isOpen&&S.length>0&&!d)};default:return s}},[H,A,F,o,d,S.length]),{getInputProps:z,getItemProps:K,getMenuProps:P,highlightedIndex:q}=(0,h.Bp)({id:s,itemToString:e=>e?.title??"",items:S,onInputValueChange:e=>{$(e.inputValue||"")},onIsOpenChange:e=>{L(!!e.isOpen),R?.(e.isOpen)},onSelectedItemChange:e=>{e.selectedItem&&k?.(e.selectedItem.value,e.selectedItem.title)},stateReducer:M}),V=(0,n.useCallback)(e=>{N&&(N.current=e),W.current&&e&&(window.scrollTo({behavior:"smooth",top:0}),e.focus({preventScroll:!0}),W.current=!1)},[]),X=z({"aria-label":w,onBlur:f,onChange:e=>{$(e.target.value),x?.(e.target.value)},onFocus:e=>{o&&!O&&(W.current=!0,L(!0),R?.(!0)),I?.(e)},ref:(0,_.S)(t,V),value:A}),G=(0,r.jsxs)("div",{className:c()(E().searchBarWithResults),children:[(0,r.jsx)(g.I,{inputProps:X,isResultShown:O,isSearching:d,isWithResult:O&&S.length>0,label:w,onClear:()=>{$(""),y?.(),N.current?.focus()},onSubmit:H,value:X.value,...D,addonElementStart:F?(0,r.jsx)(l.$,{addon:(0,r.jsx)(i.I,{icon:u.CeG,size:"1.25x"}),color:"gray",onClick:()=>{L(!1),R?.(!1)},type:"button",variant:"plain"}):D.addonElementStart,isWithoutBorder:F}),(0,r.jsx)(C.X,{...P(),getItemProps:K,highlightedIndex:q,isFullscreen:o,isOpen:O,isWithNoResultsMessage:b,items:S,itemsLabel:v,onRemove:B,size:D.size,textNoResults:j,variant:D.variant})]});return(0,m.oc)()&&F?(0,p.createPortal)((0,r.jsx)("div",{className:E().fullscreen,children:G}),document.getElementById("main-wrapper")||document.body):G});var v=s(56774),w=s(55475),f=s(9376),x=s(48939),y=s(73172),I=s(18524),R=s(82078),B=s(24967),k=s(3832);let T=["what","where","when","how","why","who","which","whom","whose"],j="__ask_ai__",D="__search__";var N=s(38848),W=s.n(N);let O=(e,t)=>(0,r.jsx)("div",{className:W().icon,children:t?(0,r.jsx)(R.F,{color:"neutral-gray",children:e}):e});var L=s(25979),A=s(11331);let $={DROPDOWN_CLICKED:"Search Dropdown Clicked",EXTENSIVE_SEARCH_BUTTON_CLICKED:"Extensive Search Bar Button Clicked",EXTENSIVE_SEARCH_ENTER_CLICKED:"Extensive Search Bar Enter Clicked"},H=e=>{let{addonElementEnd:t,id:s,onChange:u,onFocus:o,onSubmit:c,query:h,size:p}=e,{addToHistory:d,removeFromHistory:_,searchHistory:C}=function(){let[e,t]=(0,L.M)("sd-s-h");return{addToHistory:s=>{let r=s.trim();if(r){let s=[r,...e?.filter(e=>e!==r)||[]].slice(0,1e4);requestAnimationFrame(()=>{t(s)})}},clearHistory:()=>{t([])},removeFromHistory:s=>{t(e?.filter(e=>e!==s)||[])},searchHistory:e}}(),g=(0,v.b)(),[b,E]=(0,n.useState)(!1),R=(0,n.useRef)(!!(0,m.oc)()&&window.innerWidth<I.BY).current,N=(()=>{let e=(0,A.jt)();return(0,n.useCallback)(t=>{let{query:s,type:r}=t;return e($.DROPDOWN_CLICKED,{Query:s,Type:r})},[e])})(),W=(()=>{let e=(0,A.jt)();return(0,n.useCallback)(t=>{let{query:s,type:r}=t;return e("Button"===r?$.EXTENSIVE_SEARCH_BUTTON_CLICKED:$.EXTENSIVE_SEARCH_ENTER_CLICKED,{Query:s})},[e])})(),H=(0,x.u)(),F=(0,w.CM)(f.u.SEARCH_DROPDOWN),M=(0,w.yX)(),z=!h||""===h.trim(),{items:K}=(e=>{let{query:t,searchHistory:s,withIconSticker:l}=e;return{items:(0,n.useMemo)(()=>{let e=!t||""===t.trim(),n=((e,t)=>{if(!e)return[];let s=[...new Set(e)],a=t?.trim();if(!a)return s.slice(0,3).map(e=>({value:e}));let n=a.toLowerCase(),l=n.split(" ");return s?.filter(e=>{let t=e.toLowerCase();return l.length>1?l.every(e=>t.split(" ").some(t=>t===e||t.startsWith(e))):t.split(" ").some(e=>e.startsWith(n))}).slice(0,3).map(e=>{let t=[],s=e.split(" ");return s.forEach((e,a)=>{let n=e.toLowerCase(),i=!1;for(let s of l)if(n===s){t.push((0,r.jsx)(k.E,{as:"span",variant:"title-medium",children:e},`match-exact-${a}-${s}`)),i=!0;break}else if(n.startsWith(s)){let n=e.substring(0,s.length),l=e.substring(s.length);t.push((0,r.jsx)(k.E,{as:"span",variant:"title-medium",children:n},`match-prefix-${a}-${s}`)),l&&t.push(l),i=!0;break}i||t.push(e),a<s.length-1&&t.push(" ")}),{displayTitle:t,value:e}})})(s,t)?.map(e=>((e,t)=>({displayTitle:e.displayTitle,icon:O((0,r.jsx)(i.I,{color:"x-subtle",icon:a.Yj9,size:"1.25x"}),t),title:e.value,value:e.value}))(e,l));if(e)return n||[];let u=[];return u.push(((e,t)=>({icon:O((0,r.jsx)(i.I,{color:"x-subtle",icon:a.MjD,size:"1.25x"}),t),notRemovable:!0,title:e,value:`${D}${e}`}))(t,l)),(e=>!!e?.trim()&&(!!e.endsWith("?")||e.split(" ").length>4||T.some(t=>e.toLowerCase().startsWith(t))))(t)&&u.push(((e,t)=>({displayTitle:(0,r.jsx)(y.A,{id:"search_dropdown_ask_ai_question",variables:{query:e}}),icon:O((0,r.jsx)(B.K,{color:"purple80",name:"ask-ai",sparkleColor:"accent"}),t),noSubmit:!0,notRemovable:!0,title:"",value:`${j}${e}`}))(t,l)),n&&u.push(...n),u},[t,s,l])}})({query:h,searchHistory:C,withIconSticker:"big"===p||R}),P=(e,t,s)=>{s?.preventDefault(),W({query:e,type:t}),d(e),c?.(e)};return(0,r.jsx)(S,{addonElementEnd:t&&!(R&&b)?t:R&&b?(0,r.jsx)("div",{}):(0,r.jsx)(l.$,{addon:(0,r.jsx)(i.I,{icon:a.MjD,size:"1.25x"}),"aria-label":H.get("search"),color:"gray",onClick:e=>P(h||"","Button",e),size:"small"===p?"small":"medium",type:"submit",variant:"tertiary"}),id:s,initialValue:h,isFullscreen:R,isWithNoResultsMessage:!1,items:K,itemsLabel:K.length&&z?(0,r.jsx)(y.A,{id:"search_dropdown_recent_searches"}):void 0,label:H.get("search_courses_documents"),onChange:u,onFocus:o,onIsOpenChange:E,onRemove:e=>{_(e)},onSelect:(e,t)=>{let s=String(e);if(s.startsWith(j)){let e=s.replace(j,"");if(e){d(e);let t=((e,t,s)=>{if(!t)return e;if(s&&e.includes("/ai?")&&e.includes("entry=ai-chat")){let[s,r]=e.split("?"),a=new URLSearchParams(r||"");return a.set("ai-message",t),`${s}?${a.toString()}`}return e})(F,e,M);g.push(t),N({query:e,type:"Ask AI"})}return}c?.(t),N({query:t,type:s.startsWith(D)?"Search":"Recent Search"})},onSubmit:e=>P(e||"","Enter"),placeholder:H.get("search_courses_documents"),size:p,textNoResults:H.get("no_results_found"),textSubmitLabel:H.get("search"),variant:"dropdown"})}}}]);